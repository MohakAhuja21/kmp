"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[381],{2381:function(s,e,r){r.r(e),r.d(e,{default:function(){return g}});var i=r(9439),c=r(9616),n=r(1087),t=r(2791),l=r(1968),o=r(6030),a=r(2058),d=r(9515),u=r(9817),h=r(2993),m=r(2834),p=r(5218),x=r(1946),j=r(184),g=function(){var s=(0,t.useRef)(null),e=(0,c.UO)().id,r=(0,o.I0)(),g=((0,o.v9)((function(s){return s.wishlist})).error,(0,c.UO)()),f=(0,o.v9)((function(s){return s.productDetails})),b=f.product,v=f.loading,_=f.error,k=(0,t.useState)([]),N=(0,i.Z)(k,2),S=N[0],y=N[1],w=(0,t.useState)([]),C=(0,i.Z)(w,2),P=C[0],T=C[1],Z=(0,t.useState)(null),I=(0,i.Z)(Z,2),A=I[0],B=I[1];(0,t.useEffect)((function(){r((0,a.KL)(e)).then((function(s){y(s.similarProducts),B(s.percentageCheaper),T(s.substituteProducts)})),r((0,a.wv)()),window.scrollTo(0,0),_&&(p.Am.error(_),r((0,a.b9)()))}),[r,e,_]);var D=(0,t.useState)(1),F=(0,i.Z)(D,2),z=F[0],L=F[1],O=(0,o.v9)((function(s){return s.user})),U=(O.loading,O.user);O.isAuthenticated;return(0,j.jsx)(t.Fragment,{children:v?(0,j.jsx)(d.Z,{}):(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(m.Z,{title:"Products / ".concat(b.name)}),(0,j.jsxs)("div",{className:"ProductDetails",children:[(0,j.jsx)(l.Z,{className:"productDetails_img_con",children:b.images&&b.images.map((function(s,e){return(0,j.jsx)("img",{className:"CarouselImage",src:s.url,alt:"".concat(e," Slide")},e)}))}),(0,j.jsxs)("div",{className:"productDetails_con",children:[(0,j.jsxs)("div",{className:"detailsBlock-1",children:[(0,j.jsx)("h2",{style:{marginTop:"15px"},children:b.name}),b.manufacturer&&(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Manufacturer"}),":\xa0",b.manufacturer]}),b.salt_composition&&(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Composition"}),":\xa0",b.salt_composition]}),b.packaging&&(0,j.jsxs)("p",{style:{fontSize:"11px",color:"rgba(54, 54, 54, 0.868)"},children:[(0,j.jsx)("b",{children:"Packaging"}),":\xa0",b.packaging]})]}),(0,j.jsxs)("div",{className:"detailsBlock-3",children:[(0,j.jsxs)("div",{className:"price-container",children:[(0,j.jsxs)("h1",{className:"selling-price",children:["Selling Price:"," ",(0,j.jsxs)("span",{children:["\u20b9".concat(b.price),b.unit&&(0,j.jsxs)("sup",{style:{color:"rgba(0, 0, 0, 0.593)",fontSize:"12px"},children:["(",b.unit,")"]})]})]}),(0,j.jsxs)("h2",{className:"mrp-price",children:["MRP: ",(0,j.jsx)("span",{children:"\u20b9".concat(b.mrp)})]})]}),(0,j.jsxs)("div",{className:"detailsBlock-3-1",children:[(0,j.jsxs)("div",{className:"detailsBlock-3-1-1",children:[(0,j.jsx)("button",{onClick:function(){1>=z||L(z-1)},children:"-"}),(0,j.jsx)("input",{readOnly:!0,type:"number",value:z}),(0,j.jsx)("button",{onClick:function(){b.stock<=z?p.Am.error("We currently have ".concat(b.stock," in stock.\n If you want more, please wait. Sorry for the inconvenience.\n Else wishlist and we will notify you !")):L(z+1)},children:"+"})]}),(0,j.jsx)("button",{className:"addToCart_btn",disabled:b.stock<1,onClick:function(){r((0,u.DW)(e,z)),p.Am.success("Item Added To Cart"),s&&s.current&&s.current.scrollIntoView({behavior:"smooth"})},children:"Add to Cart"}),(0,j.jsx)("button",{className:"wishlistButton",onClick:function(){if(U){var s={user:U._id,orderItems:[{product:g.id}]};console.log(s),r((0,h.Uh)(s)),p.Am.success("Product added in wishlist")}else p.Am.show("Login to add Product into Wishlist")},children:"WISHLIST"})]}),(0,j.jsxs)("p",{children:["Status:",(0,j.jsx)("b",{style:{marginLeft:"6px",fontSize:"20px"},className:b.stock<1?"redColor":"greenColor",children:b.stock<1?"Out Of Stock":"InStock"}),(0,j.jsxs)("h3",{className:"margin-price",children:["Margin:"," ",(0,j.jsx)("span",{children:"".concat(Math.floor((b.mrp-b.price)/b.mrp*100),"%")})]})]})]}),(0,j.jsxs)("div",{className:"detailsBlock-4",children:[(0,j.jsx)("b",{style:{borderBottom:"2px solid #FFBF00",fontSize:"21px"},children:"Description"}),":",(0,j.jsx)("p",{style:{marginTop:"8px",fontSize:"19px"},children:b.description})]}),(0,j.jsx)("div",{className:"similarProduct__box",children:S.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h3",{children:["Similar products:"," ",(0,j.jsx)("span",{style:{fontWeight:"normal",backgroundColor:"whitesmoke",paddingLeft:"0.2rem",fontSize:"14px",letterSpacing:"1px"},children:b.category})]}),(0,j.jsx)("div",{className:"similarProducts",ref:s,children:S.map((function(s){return(0,j.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,j.jsxs)(n.rU,{to:"/product/".concat(s._id),style:{textDecoration:"none",color:"black"},children:[(0,j.jsx)("img",{src:s.images[0].url,alt:"similar product image"}),(0,j.jsxs)("div",{className:"shop__des_reco",children:[(0,j.jsx)("h5",{children:s.name}),(0,j.jsxs)("p",{children:["\u20b9",s.price]})]})]})},s._id)}))})]})}),(0,j.jsx)("div",{className:"similarProduct__box",children:P.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h3",{children:["Recommended Substitute",(0,j.jsx)(x.Z,{style:{color:"#082b79"}})]}),A&&(0,j.jsxs)("p",{style:{marginTop:"2px"},children:["This product is"," ",(0,j.jsxs)("b",{className:"substitute__medPrice",children:[A,"% cheaper"]}),"."]}),(0,j.jsx)("div",{className:"similarProducts similarProductsSubs",ref:s,children:P.map((function(s){return(0,j.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,j.jsxs)(n.rU,{to:"/product/".concat(s._id),style:{textDecoration:"none",color:"black"},children:[(0,j.jsx)("img",{src:s.images[0].url,alt:"substitute product image"}),(0,j.jsxs)("div",{className:"shop__des_reco",children:[(0,j.jsx)("h5",{children:s.name}),(0,j.jsxs)("h4",{children:["\u20b9",s.price]})]})]})},s._id)}))})]})})]})]})]})})}},2834:function(s,e,r){r(2791);var i=r(4270),c=r(184);e.Z=function(s){var e=s.title;return(0,c.jsx)(i.Z,{children:(0,c.jsx)("title",{children:e})})}}}]);
//# sourceMappingURL=381.ddc87f7a.chunk.js.map