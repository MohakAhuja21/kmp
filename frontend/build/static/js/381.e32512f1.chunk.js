"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[381],{2381:function(e,s,i){i.r(s),i.d(s,{default:function(){return v}});var r=i(9439),n=i(9616),t=i(1087),c=i(2791),o=i(1968),l=i(6030),a=i(2058),d=i(9515),u=i(9817),m=i(2993),h=i(2834),p=i(5218),x=i(1946),f=i(9202),j=i(1425),g=i.n(j),b=i(184),v=function(){var e=(0,c.useRef)(null),s=(0,n.UO)().id,i=(0,l.I0)(),j=((0,l.v9)((function(e){return e.wishlist})).error,(0,n.UO)()),v=(0,l.v9)((function(e){return e.productDetails})),k=v.product,S=v.loading,_=v.error,N=(0,c.useState)([]),y=(0,r.Z)(N,2),w=y[0],C=y[1],P=(0,c.useState)([]),Z=(0,r.Z)(P,2),z=Z[0],A=Z[1],I=(0,c.useState)(null),T=(0,r.Z)(I,2),B=T[0],F=T[1],D=(0,c.useState)(!1),W=(0,r.Z)(D,2),L=(W[0],W[1]),O=(0,c.useState)(!1),U=(0,r.Z)(O,2),M=U[0],E=U[1];(0,c.useEffect)((function(){i((0,a.KL)(s)).then((function(e){C(e.similarProducts),F(e.percentageCheaper),A(e.substituteProducts)})),i((0,a.wv)()),window.scrollTo(0,0),_&&(p.Am.error(_),i((0,a.b9)()))}),[i,s,_]);var R=(0,c.useState)(2),H=(0,r.Z)(R,2),Q=H[0],K=H[1],V=(0,l.v9)((function(e){return e.user})),q=(V.loading,V.user),G=V.isAuthenticated,J=function(){L(!0),p.Am.error("Please login/register to view.")};return(0,b.jsxs)(c.Fragment,{children:[M&&(0,b.jsx)("div",{className:"confetti-container",style:{pointerEvents:"none"},children:(0,b.jsx)(g(),{width:window.innerWidth,height:window.innerHeight})}),S?(0,b.jsx)(d.Z,{}):(0,b.jsxs)(c.Fragment,{children:[(0,b.jsx)(h.Z,{title:"Products / ".concat(k.name)}),(0,b.jsxs)("div",{className:"ProductDetails",children:[(0,b.jsx)(o.Z,{className:"productDetails_img_con",children:k.images&&k.images.map((function(e,s){return(0,b.jsx)("img",{className:"CarouselImage",src:e.url,alt:"".concat(s," Slide")},s)}))}),(0,b.jsxs)("div",{className:"productDetails_con",children:[(0,b.jsxs)("div",{className:"detailsBlock-1",children:[(0,b.jsx)("h2",{style:{marginTop:"15px",fontSize:"16px"},children:k.name}),k.packaging&&(0,b.jsxs)("p",{style:{fontSize:"10px",marginBottom:"2px",marginTop:"1px"},children:[(0,b.jsx)("b",{children:"Packaging"}),":\xa0",k.packaging]}),k.manufacturer&&(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"Manufacturer"}),":\xa0",k.manufacturer]}),k.salt_composition&&(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"Composition"}),":\xa0",k.salt_composition]})]}),(0,b.jsxs)("div",{className:"detailsBlock-3",children:[(0,b.jsxs)("div",{className:"price-container",children:[(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("h1",{className:"selling-price",children:["Selling Price:"," ",G?(0,b.jsxs)("span",{children:["\u20b9".concat(k.price),k.unit&&(0,b.jsxs)("sup",{style:{color:"rgba(0, 0, 0, 0.593)",fontSize:"12px"},children:["(",k.unit,")"]})]}):(0,b.jsx)(f.Z,{style:{color:"red",position:"relative",bottom:"3px",left:"2px",cursor:"pointer"},onClick:J})]})}),(0,b.jsxs)("h2",{className:"mrp-price",children:["MRP: ",(0,b.jsx)("span",{children:"\u20b9".concat(k.mrp)})]})]}),(0,b.jsxs)("div",{className:"detailsBlock-3-1",children:[(0,b.jsxs)("div",{className:"detailsBlock-3-1-1",children:[(0,b.jsx)("button",{onClick:function(){Q<=1?p.Am.error("Quantity cannot be less than 1."):K(Q-1)},children:"-"}),(0,b.jsx)("input",{type:"number",value:Q,onChange:function(e){var s=parseInt(e.target.value);isNaN(s)?K(""):K(s)},min:"1"}),(0,b.jsx)("button",{onClick:function(){k.stock<=Q+1?p.Am.error("We currently have ".concat(k.stock," in stock.\n If you want more, please wait. Sorry for the inconvenience.\n Else wishlist and we will notify you!")):K(Q+1)},children:"+"})]}),(0,b.jsx)("button",{className:"addToCart_btn",disabled:k.stock<1,onClick:function(){if(""!==Q&&0!==Q){i((0,u.DW)(s,Q));["6479cbf53fdabf22e0e7013b","644e006eb9e1261b11398bee","644e0165b9e1261b11398df5","649549f0c7f3af9f33395be8","64954affdceca8330a8f60e9"].includes(s)?(p.Am.success("Offer product added to cart!"),E(!0),setTimeout((function(){E(!1)}),4e3)):p.Am.success("Item added to cart!"),e&&e.current&&e.current.scrollIntoView({behavior:"smooth"})}else p.Am.error("Quantity should not be left blank or 0.")},children:"Add to Cart"}),(0,b.jsx)("button",{className:"wishlistButton",onClick:function(){if(q){var e={user:q._id,orderItems:[{product:j.id}]};console.log(e),i((0,m.Uh)(e)),p.Am.success("Product added in wishlist")}else p.Am.error("Login to add Product into Wishlist")},children:"WISHLIST"})]}),(0,b.jsxs)("p",{children:["Status:",(0,b.jsx)("b",{style:{marginLeft:"6px",fontSize:"22px"},className:k.stock<1?"redColor":"greenColor",children:k.stock<1?"Out Of Stock":"InStock"}),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("h3",{className:"margin-price",children:["Margin:"," ",G?(0,b.jsx)("span",{children:"".concat(Math.floor((k.mrp-k.price)/k.mrp*100),"%")}):(0,b.jsx)(f.Z,{style:{color:"red",position:"relative",top:"5px",cursor:"pointer"},onClick:J})]})})]})]}),(0,b.jsxs)("div",{className:"detailsBlock-4",children:[(0,b.jsx)("b",{style:{borderBottom:"2px solid #FFBF00",fontSize:"21px"},children:"Description"}),":",(0,b.jsx)("p",{style:{marginTop:"10px",fontSize:"14px",letterSpacing:"1px",marginInline:"4px"},children:k.description})]}),(0,b.jsx)("div",{className:"similarProduct__box",children:w.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{style:{fontSize:"14px"},children:["Similar Products:"," ",(0,b.jsx)("span",{style:{fontWeight:"normal",backgroundColor:"whitesmoke",paddingLeft:"0.1rem",fontSize:"13px",letterSpacing:"1px"},children:k.category})]}),(0,b.jsx)("div",{className:"similarProducts",ref:e,children:w.map((function(e){return(0,b.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,b.jsxs)(t.rU,{to:"/product/".concat(e._id),style:{textDecoration:"none",color:"black"},children:[(0,b.jsx)("img",{src:e.images[0].url,alt:"similar product image"}),(0,b.jsxs)("div",{className:"shop__des_reco",children:[(0,b.jsx)("h5",{children:e.name}),G?(0,b.jsxs)("p",{children:["\u20b9",e.price]}):null]})]})},e._id)}))})]})}),(0,b.jsx)("div",{className:"similarProduct__box",children:z.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{style:{fontSize:"15px"},children:["Recommended Substitute",(0,b.jsx)(x.Z,{style:{color:"#082b79",fontSize:"2rem"}})]}),B&&(0,b.jsxs)("p",{style:{marginTop:"2px",fontSize:"13px"},children:["This product is"," ",(0,b.jsxs)("b",{className:"substitute__medPrice",children:[B,"% cheaper"]}),"."]}),(0,b.jsx)("div",{className:"similarProducts similarProductsSubs",ref:e,children:z.map((function(e){return(0,b.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,b.jsxs)(t.rU,{to:"/product/".concat(e._id),style:{textDecoration:"none",color:"black"},children:[(0,b.jsx)("img",{src:e.images[0].url,alt:"substitute product image"}),(0,b.jsxs)("div",{className:"shop__des_reco",children:[(0,b.jsx)("h5",{children:e.name}),G?(0,b.jsxs)("h4",{children:["\u20b9",e.price]}):null]})]})},e._id)}))})]})})]})]})]})]})}},2834:function(e,s,i){i(2791);var r=i(4270),n=i(184);s.Z=function(e){var s=e.title;return(0,n.jsx)(r.Z,{children:(0,n.jsx)("title",{children:s})})}}}]);
//# sourceMappingURL=381.e32512f1.chunk.js.map