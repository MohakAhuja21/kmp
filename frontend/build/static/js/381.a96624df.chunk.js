"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[381],{2381:function(s,e,i){i.r(e),i.d(e,{default:function(){return f}});var r=i(9439),c=i(9616),n=i(1087),t=i(2791),l=i(1968),o=i(6030),a=i(2058),d=i(9515),u=i(9817),h=i(2993),m=i(2834),x=i(5218),p=i(1946),j=i(184),f=function(){var s=(0,t.useRef)(null),e=(0,c.UO)().id,i=(0,o.I0)(),f=((0,o.v9)((function(s){return s.wishlist})).error,(0,c.UO)()),g=(0,o.v9)((function(s){return s.productDetails})),v=g.product,b=g.loading,_=g.error,k=(0,t.useState)([]),N=(0,r.Z)(k,2),S=N[0],y=N[1],w=(0,t.useState)([]),C=(0,r.Z)(w,2),P=C[0],T=C[1],Z=(0,t.useState)(null),I=(0,r.Z)(Z,2),A=I[0],B=I[1];(0,t.useEffect)((function(){i((0,a.KL)(e)).then((function(s){y(s.similarProducts),B(s.percentageCheaper),T(s.substituteProducts)})),i((0,a.wv)()),window.scrollTo(0,0),_&&(x.Am.error(_),i((0,a.b9)()))}),[i,e,_]);var D=(0,t.useState)(1),F=(0,r.Z)(D,2),L=F[0],O=F[1],U=(0,o.v9)((function(s){return s.user})),W=(U.loading,U.user);U.isAuthenticated;return(0,j.jsx)(t.Fragment,{children:b?(0,j.jsx)(d.Z,{}):(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(m.Z,{title:"Products / ".concat(v.name)}),(0,j.jsxs)("div",{className:"ProductDetails",children:[(0,j.jsx)(l.Z,{className:"productDetails_img_con",children:v.images&&v.images.map((function(s,e){return(0,j.jsx)("img",{className:"CarouselImage",src:s.url,alt:"".concat(e," Slide")},e)}))}),(0,j.jsxs)("div",{className:"productDetails_con",children:[(0,j.jsxs)("div",{className:"detailsBlock-1",children:[(0,j.jsx)("h2",{style:{marginTop:"15px"},children:v.name}),v.manufacturer&&(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Manufacturer"}),":\xa0",v.manufacturer]}),v.salt_composition&&(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Composition"}),":\xa0",v.salt_composition]}),v.packaging&&(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Packaging"}),":\xa0",v.packaging]})]}),(0,j.jsxs)("div",{className:"detailsBlock-3",children:[(0,j.jsxs)("div",{className:"price-container",children:[(0,j.jsxs)("h1",{className:"selling-price",children:["Selling Price: ",(0,j.jsx)("span",{children:"\u20b9".concat(v.price)})]}),(0,j.jsxs)("h2",{className:"mrp-price",children:["MRP: ",(0,j.jsx)("span",{children:"\u20b9".concat(v.mrp)})]})]}),(0,j.jsxs)("div",{className:"detailsBlock-3-1",children:[(0,j.jsxs)("div",{className:"detailsBlock-3-1-1",children:[(0,j.jsx)("button",{onClick:function(){1>=L||O(L-1)},children:"-"}),(0,j.jsx)("input",{readOnly:!0,type:"number",value:L}),(0,j.jsx)("button",{onClick:function(){v.stock<=L?x.Am.error("We currently have ".concat(v.stock," in stock.\n If you want more, please wait. Sorry for the inconvenience.\n Else wishlist and we will notify you !")):O(L+1)},children:"+"})]}),(0,j.jsx)("button",{className:"addToCart_btn",disabled:v.stock<1,onClick:function(){i((0,u.DW)(e,L)),x.Am.success("Item Added To Cart"),s&&s.current&&s.current.scrollIntoView({behavior:"smooth"})},children:"Add to Cart"}),(0,j.jsx)("button",{className:"wishlistButton",onClick:function(){if(W){var s={user:W._id,orderItems:[{product:f.id}]};console.log(s),i((0,h.Uh)(s)),x.Am.success("Product added in wishlist")}else x.Am.show("Login to add Product into Wishlist")},children:"WISHLIST"})]}),(0,j.jsxs)("p",{children:["Status:",(0,j.jsx)("b",{style:{marginLeft:"6px",fontSize:"18px"},className:v.stock<1?"redColor":"greenColor",children:v.stock<1?"Out Of Stock":"InStock"})]})]}),(0,j.jsxs)("div",{className:"detailsBlock-4",children:[(0,j.jsx)("b",{style:{borderBottom:"2px solid #FFBF00",fontSize:"21px"},children:"Description"}),":",(0,j.jsx)("p",{style:{marginTop:"8px",fontSize:"19px"},children:v.description})]}),(0,j.jsx)("div",{className:"similarProduct__box",children:S.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h3",{children:["Similar products:"," ",(0,j.jsx)("span",{style:{fontWeight:"normal",backgroundColor:"whitesmoke",paddingLeft:"0.2rem",fontSize:"14px",letterSpacing:"1px"},children:v.category})]}),(0,j.jsx)("div",{className:"similarProducts",ref:s,children:S.map((function(s){return(0,j.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,j.jsxs)(n.rU,{to:"/product/".concat(s._id),style:{textDecoration:"none",color:"black"},children:[(0,j.jsx)("img",{src:s.images[0].url,alt:"similar product image"}),(0,j.jsxs)("div",{className:"shop__des_reco",children:[(0,j.jsx)("h5",{children:s.name}),(0,j.jsxs)("p",{children:["\u20b9",s.price]})]})]})},s._id)}))})]})}),(0,j.jsx)("div",{className:"similarProduct__box",children:P.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h3",{children:["Recommended Substitute",(0,j.jsx)(p.Z,{style:{color:"#082b79"}})]}),A&&(0,j.jsxs)("p",{style:{marginTop:"2px"},children:["This product is"," ",(0,j.jsxs)("b",{className:"substitute__medPrice",children:[A,"% cheaper"]}),"."]}),(0,j.jsx)("div",{className:"similarProducts similarProductsSubs",ref:s,children:P.map((function(s){return(0,j.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,j.jsxs)(n.rU,{to:"/product/".concat(s._id),style:{textDecoration:"none",color:"black"},children:[(0,j.jsx)("img",{src:s.images[0].url,alt:"substitute product image"}),(0,j.jsxs)("div",{className:"shop__des_reco",children:[(0,j.jsx)("h5",{children:s.name}),(0,j.jsxs)("h4",{children:["\u20b9",s.price]})]})]})},s._id)}))})]})})]})]})]})})}},2834:function(s,e,i){i(2791);var r=i(4270),c=i(184);e.Z=function(s){var e=s.title;return(0,c.jsx)(r.Z,{children:(0,c.jsx)("title",{children:e})})}}}]);
//# sourceMappingURL=381.a96624df.chunk.js.map