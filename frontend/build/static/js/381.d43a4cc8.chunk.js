"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[381],{2381:function(e,s,r){r.r(s),r.d(s,{default:function(){return f}});var i=r(9439),n=r(9616),t=r(1087),c=r(2791),o=r(1968),l=r(6030),a=r(2058),d=r(9515),u=r(9817),h=r(2993),m=r(2834),p=r(5218),x=r(1946),j=r(9202),g=r(184),f=function(){var e=(0,c.useRef)(null),s=(0,n.UO)().id,r=(0,l.I0)(),f=((0,l.v9)((function(e){return e.wishlist})).error,(0,n.UO)()),v=(0,l.v9)((function(e){return e.productDetails})),b=v.product,k=v.loading,_=v.error,N=(0,c.useState)([]),y=(0,i.Z)(N,2),S=y[0],C=y[1],w=(0,c.useState)([]),P=(0,i.Z)(w,2),Z=P[0],A=P[1],I=(0,c.useState)(null),T=(0,i.Z)(I,2),F=T[0],B=T[1],D=(0,c.useState)(!1),z=(0,i.Z)(D,2),L=(z[0],z[1]);(0,c.useEffect)((function(){r((0,a.KL)(s)).then((function(e){C(e.similarProducts),B(e.percentageCheaper),A(e.substituteProducts)})),r((0,a.wv)()),window.scrollTo(0,0),_&&(p.Am.error(_),r((0,a.b9)()))}),[r,s,_]);var U=(0,c.useState)(2),W=(0,i.Z)(U,2),M=W[0],O=W[1],R=(0,l.v9)((function(e){return e.user})),E=(R.loading,R.user),Q=R.isAuthenticated,H=function(){L(!0),p.Am.error("Please login/register to view.")};return(0,g.jsx)(c.Fragment,{children:k?(0,g.jsx)(d.Z,{}):(0,g.jsxs)(c.Fragment,{children:[(0,g.jsx)(m.Z,{title:"Products / ".concat(b.name)}),(0,g.jsxs)("div",{className:"ProductDetails",children:[(0,g.jsx)(o.Z,{className:"productDetails_img_con",children:b.images&&b.images.map((function(e,s){return(0,g.jsx)("img",{className:"CarouselImage",src:e.url,alt:"".concat(s," Slide")},s)}))}),(0,g.jsxs)("div",{className:"productDetails_con",children:[(0,g.jsxs)("div",{className:"detailsBlock-1",children:[(0,g.jsx)("h2",{style:{marginTop:"15px"},children:b.name}),b.manufacturer&&(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Manufacturer"}),":\xa0",b.manufacturer]}),b.salt_composition&&(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Composition"}),":\xa0",b.salt_composition]}),b.packaging&&(0,g.jsxs)("p",{style:{fontSize:"11px",color:"rgba(54, 54, 54, 0.868)"},children:[(0,g.jsx)("b",{children:"Packaging"}),":\xa0",b.packaging]})]}),(0,g.jsxs)("div",{className:"detailsBlock-3",children:[(0,g.jsxs)("div",{className:"price-container",children:[(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("h1",{className:"selling-price",children:["Selling Price:"," ",Q?(0,g.jsxs)("span",{children:["\u20b9".concat(b.price),b.unit&&(0,g.jsxs)("sup",{style:{color:"rgba(0, 0, 0, 0.593)",fontSize:"12px"},children:["(",b.unit,")"]})]}):(0,g.jsx)(j.Z,{style:{color:"red",position:"relative",top:"2px",cursor:"pointer"},onClick:H})]})}),(0,g.jsxs)("h2",{className:"mrp-price",children:["MRP: ",(0,g.jsx)("span",{children:"\u20b9".concat(b.mrp)})]})]}),(0,g.jsxs)("div",{className:"detailsBlock-3-1",children:[(0,g.jsxs)("div",{className:"detailsBlock-3-1-1",children:[(0,g.jsx)("button",{onClick:function(){M<=1?p.Am.error("Quantity cannot be less than 1."):O(M-1)},children:"-"}),(0,g.jsx)("input",{type:"number",value:M,onChange:function(e){var s=parseInt(e.target.value);isNaN(s)?O(""):O(s)},min:"1"}),(0,g.jsx)("button",{onClick:function(){b.stock<=M+1?p.Am.error("We currently have ".concat(b.stock," in stock.\n If you want more, please wait. Sorry for the inconvenience.\n Else wishlist and we will notify you!")):O(M+1)},children:"+"})]}),(0,g.jsx)("button",{className:"addToCart_btn",disabled:b.stock<1,onClick:function(){""!==M&&0!==M?(r((0,u.DW)(s,M)),p.Am.success("Item Added To Cart"),e&&e.current&&e.current.scrollIntoView({behavior:"smooth"})):p.Am.error("Quantity should not be left blank or 0.")},children:"Add to Cart"}),(0,g.jsx)("button",{className:"wishlistButton",onClick:function(){if(E){var e={user:E._id,orderItems:[{product:f.id}]};console.log(e),r((0,h.Uh)(e)),p.Am.success("Product added in wishlist")}else p.Am.error("Login to add Product into Wishlist")},children:"WISHLIST"})]}),(0,g.jsxs)("p",{children:["Status:",(0,g.jsx)("b",{style:{marginLeft:"6px",fontSize:"20px"},className:b.stock<1?"redColor":"greenColor",children:b.stock<1?"Out Of Stock":"InStock"}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("h3",{className:"margin-price",children:["Margin:"," ",Q?(0,g.jsx)("span",{children:"".concat(Math.floor((b.mrp-b.price)/b.mrp*100),"%")}):(0,g.jsx)(j.Z,{style:{color:"red",position:"relative",top:"5px",cursor:"pointer"},onClick:H})]})})]})]}),(0,g.jsxs)("div",{className:"detailsBlock-4",children:[(0,g.jsx)("b",{style:{borderBottom:"2px solid #FFBF00",fontSize:"21px"},children:"Description"}),":",(0,g.jsx)("p",{style:{marginTop:"8px",fontSize:"19px"},children:b.description})]}),(0,g.jsx)("div",{className:"similarProduct__box",children:S.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h3",{children:["Similar products:"," ",(0,g.jsx)("span",{style:{fontWeight:"normal",backgroundColor:"whitesmoke",paddingLeft:"0.2rem",fontSize:"14px",letterSpacing:"1px"},children:b.category})]}),(0,g.jsx)("div",{className:"similarProducts",ref:e,children:S.map((function(e){return(0,g.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,g.jsxs)(t.rU,{to:"/product/".concat(e._id),style:{textDecoration:"none",color:"black"},children:[(0,g.jsx)("img",{src:e.images[0].url,alt:"similar product image"}),(0,g.jsxs)("div",{className:"shop__des_reco",children:[(0,g.jsx)("h5",{children:e.name}),Q?(0,g.jsxs)("p",{children:["\u20b9",e.price]}):null]})]})},e._id)}))})]})}),(0,g.jsx)("div",{className:"similarProduct__box",children:Z.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h3",{children:["Recommended Substitute",(0,g.jsx)(x.Z,{style:{color:"#082b79"}})]}),F&&(0,g.jsxs)("p",{style:{marginTop:"2px"},children:["This product is"," ",(0,g.jsxs)("b",{className:"substitute__medPrice",children:[F,"% cheaper"]}),"."]}),(0,g.jsx)("div",{className:"similarProducts similarProductsSubs",ref:e,children:Z.map((function(e){return(0,g.jsx)("div",{className:"shop__pro_recom",style:{marginTop:"15px"},children:(0,g.jsxs)(t.rU,{to:"/product/".concat(e._id),style:{textDecoration:"none",color:"black"},children:[(0,g.jsx)("img",{src:e.images[0].url,alt:"substitute product image"}),(0,g.jsxs)("div",{className:"shop__des_reco",children:[(0,g.jsx)("h5",{children:e.name}),Q?(0,g.jsxs)("h4",{children:["\u20b9",e.price]}):null]})]})},e._id)}))})]})})]})]})]})})}},2834:function(e,s,r){r(2791);var i=r(4270),n=r(184);s.Z=function(e){var s=e.title;return(0,n.jsx)(i.Z,{children:(0,n.jsx)("title",{children:s})})}}}]);
//# sourceMappingURL=381.d43a4cc8.chunk.js.map